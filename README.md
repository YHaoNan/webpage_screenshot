# WebPage Screenshot
一个用于解决由服务端触发的网页截图需求的开源服务。

# 核心模块
- `config`：抽象的配置，可以是nacos、本地等各种来源
- `publisher`：抽象的任务发布者，可以是基于express的web应用、TCP、进程间通信等各种来源
- `task_queue`：请求队列，用于限制同时处理的截图任务数量
- `task_scheduler`：请求调度器，用于在多个浏览器实例间进行调度和负载均衡，任务状态管理，任务重调度等
- `bowser_pool`：浏览器池，开启多个浏览器，解决浏览器crash后，所有请求必须等待浏览器的启动延时，一般设置为2个，一主一备

实现需考虑：
1. 网页截图是高内存占用负载，需考虑横向扩展问题
2. 网页截图是危险操作，页面可能具有死循环占用CPU，大量数据占用内存，需能隔离单个页面的性能问题

# 实现方案
Puppeteer + Chromium

支持平台：
- linux/amd64
- linux/arm64

# todo
1. 第一版不考虑
   1. 多节点重调度
   2. 服务crash重调度
